# 1.3 네트워크 코어
`네트워크 코어`: 인터넷의 종단 시스템을 연결하는 패킷 스위치와 링크의 그물망(mesh)<br/>

<p align="center"><img width="400" src="https://github.com/jmKim02/ComputerNetworking_A-Top-Down-Approach/assets/174222202/61c9e443-1d2f-40cc-bd38-f23227a1b3cc">

<br/>
<br/>

## 1.3.1 패킷 교환
`패킷(packet)`: 종단 시스템들이 서로 교환하는 `메시지(message)`(제어기능, 전자메일 메시지, JPEG 이미지 같은 데이터들)
- 출발지 종단 시스템에서 목적지 종단 시스템으로 보내기 위한 메시지를 패킷으로 분할한다.
- 각 패킷은 **통신 링크**와 **패킷 스위치**를 거치게 된다.
- 패킷은 링크의 최대 전송률과 같은 속도로 각각의 통신 링크에서 전송된다.
> 💡종단 시스템 혹은 패킷 스위치가 **R비트/초**의 속도로 링크에서 **L비트**의 패킷을 송신한다면<br/>
> &emsp; 패킷을 전송하는데 걸리는 시간은 **L/R초**

<br/>

### 저장-후-전달
대부분의 패킷 스위치는 `저장-후-전달 전송(store-and-forward transmission)` 방식을 이용한다.<br/>
`저장-후-전달`은 스위치가 출력 링크로 패킷의 첫 비트를 전송하기 전에 전체 패킷을 받아야함을 의미<br/>

<p align="center"><img width="600" src="https://github.com/jmKim02/ComputerNetworking_A-Top-Down-Approach/assets/174222202/07f73758-0e71-49e2-b52f-55b752a0ead5">

<br/>
<br/>

위 그림은 출발지에서 목적지까지의 입/출력 링크가 유일한 아주 간단한 예시<br/>
- 전송할 패킷은 3개, 각각은 L비트로 구성
- 현재 그림 시점은 패킷1의 일부분만 전송한 상태로 라우터는 수신한 비트를 전송할 수 없다.
  - 대신 그 패킷의 비트를 저장하고 있다가 패킷의 모든 비트를 수신한 후에 출력 링크로 패킷을 전송한다.
- 출발지 -> 목적지에서 수신을 완료할 때까지 경과 시간
  - 여기서 전파지연은 우선 무시한다.(전파지연에 관한 내용은 이후 알아볼 예정)
  1. 출발지는 `시각 0`에 전송 시작
  2. L/R 초에 출발지는 전체 패킷을 전송했고 라우터에서 수신되어 저장되었다.(가정: 전파지연 X)
  3. 2L/R 초 시각에 라우터는 전체 패킷을 전송했고 수신 시스템이 전체 패킷을 수신했다.
  4. 따라서 전체 지연은 2L/R 이 된다.
> 💡만약, 저장-후-전달 방식을 사용하지 않아 라우터에서 전체 패킷을 기다리지 않았다면?</br>
> &emsp; 비트가 도착하자마자 전달하기 때문에 전체 지연은 L/R이 될 것이다.


