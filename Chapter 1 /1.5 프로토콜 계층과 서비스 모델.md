# 1.5 프로토콜 계층과 서비스 모델
## 1.5.1 계층 구조
시스템이 계층 구조를 가질 때, 그 계층이 제공하는 서비스의 구현을 변경하는 것은 쉽다.<br/>
어떤 한 계층의 구현이 변하더라도 시스템의 나머지 부분은 변하지 않는다.<br/>

> 💡계층구조는 크고 복잡한 시스템의 잘 정의된 특정 부분을 논의할 수 있게 해주며, 이러한 단순화는 매우 중요하다.
<br/>

- 항공 시스템 예
- 아래 그림은 티켓 구입부터 수하물 검사 ~ 비행 ~ 짐을 찾는 일련의 항공 시스템 과정을 계층으로 나눈 것
  - 탑승구 기능이 변해도 **탑승구 계층은 여전히 같은 기능을 제공**하고, 시스템의 나머지 부분은 변하지 않는다.
  - 예를 들어, 탑승/하차 순서를 키 순서대로 한다고 가정해도 **사람이 타고 내리는** 기능은 동일하게 제공한다.
<br/>

<p align="center"><img width="600" src="https://github.com/jmKim02/ComputerNetworking_A-Top-Down-Approach/assets/174222202/912e6fa6-94e1-4c51-96a0-c979264b6118">

<br>
<br/>

### 프로토콜 계층화
네트워크 프로토콜 설계 구조를 제공하기 위해, 네트워크 설계자는 프로토콜을 `계층(layer)`으로 조직한다.<br/>
<br/>

- 각 프로토콜은 한 계층에 속한다.
- 한 계층이 상위 계층에 제공하는 `서비스(service)`에 관심을 갖고, 이것을 계층의 `서비스 모델(service model)`이라 한다.
- 각 계층은 **(1)그 계층 내부에서 어떤 동작을 수행하거나**, **(2)직접 하위 계층의 서비스를 사용한다.**
<br/>

#### 프로토콜 계층화의 이점과 결점
- 이점
  - `모듈화`는 시스템 구성요소의 갱신을 더 쉽게 해준다.
- 결점
  - 한 계층의 기능이 하위 계층과 기능적으로 `중복`된다는 것
  - 어느 한 계층에서의 기능이 다른 계층에만 존재하는 정보를 필요로 할 수 있다는 것(계층 분리 목적에 위배)
 
<br/>

#### 프로토콜 스택(protocol stack)
📌 다양한 계층의 프로토콜을 모두 합하여 `프로토콜 스택`이라 한다.
<br/>

- 인터넷 프로토콜 스택은 5개의 계층으로 구성

<p align="center"><img width="300" src="https://github.com/jmKim02/ComputerNetworking_A-Top-Down-Approach/assets/174222202/27ff024f-a836-42fa-b9be-9df7f7537307">

<br/>
<br/>

### 애플리케이션 계층(application layer)
📌 네트워크 애플리케이션과 애플리케이션 계층 프로토콜이 있는 곳
<br/>

- 인터넷의 애플리케이션 계층
  - `HTTP`(웹 문서 요청과 전송), `SMTP`(전자메일 전송), `FTP`(종단 시스템 간의 파일 전송) 같은 많은 프로토콜 포함
- 애플리케이션 계층 프로토콜
  - 여러 종단 시스템에 분산되어 있어서 한 종단 시스템에 있는 애플리케이션이 다른 종단 시스템에 있는 애플리케이션과<br/>
    **정보 패킷(= 메시지(message))을** 교환하는 데 사용
<br/>

### 트랜스포트 계층(transport layer)
📌 클라이언트와 서버 간에 애플리케이션 계층 메시지를 전송하는 서비스를 제공
<br/>

- 인터넷에는 `TCP`와 `UDP`라는 두 가지 트랜스포트 프로토콜이 있으며 이들은 애플리케이션 계층 메시지를 전달한다.
  - `TCP`: 애플리케이션에 **연결지향형 서비스**를 제공
    - 이 서비스는 목적지로의 애플리케이션 계층 메시지 **전달 보장과 흐름 제어**를 포함
    - 긴 메시지를 짧은 메시지로 나누고 혼잡 제어 기능을 제공하여 네트워크가 혼잡할 때 출발지 전송률을 줄인다.
  - `UDP`: 애플리케이션에 **비연결형 서비스**를 제공
    - 이 서비스는 신뢰성, 흐름 제어, 혼잡 제어를 제공하지 않는 아주 간단한 서비스
<br/>

> 💡이 책에서는 트랜스포트 계층 패킷을 `세그먼트(segment)`라고 한다.
<br/>
### 네트워크 계층(network layer)
### 링크 계층(link layer)
### 물리 계층(physical layer)
